@model IntegrationAnalitics.Application.Models.ApiSmevModel
<div class="uploading-menu">
    <a class="menu-link" onclick=visibilitySmevChange();>СМЭВ</a>
    <a class="menu-link" onclick=visibilityAPIChange();>API</a>


</div>

<div hidden class="uploading-api-wrapper">
    <div class="uploading-api-navi">
        <div class="api-navi-header">
            <label class="api-navi-label">
                V1
                <input class="api-navi-check" type="checkbox" id="checkbox-load-version-1" value="1" onchange="" />
            </label>
            <label class="api-navi-label">
                V2
                <input class="api-navi-check" type="checkbox" id="checkbox-load-version-2" value="2" />
            </label>
            <label class="api-navi-label">
                V3
                <input class="api-navi-check" type="checkbox" id="checkbox-load-version-3" value="3" />
            </label>
            <div class="api-naiv-cache">
                <label>
                    Кеш
                    <input class="api-navi-check" type="checkbox" />
                </label>
            </div>
            <a download='api.xml' id='linkForSavingApi' hidden></a>
            <button class="api-button-download">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5 2.625C8.76782 2.63043 7.09469 3.25518 5.78288 4.38638C4.7775 5.25263 4.04906 6.38137 3.86137 7.51406C1.66162 7.99969 0 9.91594 0 12.2299C0 14.9179 2.24175 17.0625 4.96256 17.0625H16.6517C19.0339 17.0625 21 15.1856 21 12.8271C21 10.6798 19.3699 8.93025 17.2804 8.63494C16.9614 5.24869 14.0306 2.625 10.5 2.625ZM13.5896 11.6209L10.9646 14.2459C10.9037 14.307 10.8312 14.3555 10.7515 14.3886C10.6718 14.4216 10.5863 14.4387 10.5 14.4387C10.4137 14.4387 10.3282 14.4216 10.2485 14.3886C10.1688 14.3555 10.0963 14.307 10.0354 14.2459L7.41037 11.6209C7.34936 11.5599 7.30096 11.4874 7.26794 11.4077C7.23492 11.328 7.21792 11.2425 7.21792 11.1562C7.21792 11.07 7.23492 10.9845 7.26794 10.9048C7.30096 10.8251 7.34936 10.7526 7.41037 10.6916C7.5336 10.5684 7.70073 10.4992 7.875 10.4992C7.96129 10.4992 8.04673 10.5162 8.12645 10.5492C8.20617 10.5822 8.27861 10.6306 8.33963 10.6916L9.84375 12.1971V7.21875C9.84375 7.0447 9.91289 6.87778 10.036 6.75471C10.159 6.63164 10.326 6.5625 10.5 6.5625C10.674 6.5625 10.841 6.63164 10.964 6.75471C11.0871 6.87778 11.1562 7.0447 11.1562 7.21875V12.1971L12.6604 10.6916C12.7836 10.5684 12.9507 10.4992 13.125 10.4992C13.2993 10.4992 13.4664 10.5684 13.5896 10.6916C13.7129 10.8149 13.7821 10.982 13.7821 11.1562C13.7821 11.3305 13.7129 11.4976 13.5896 11.6209V11.6209Z" fill="black" />
                </svg>

            </button>

            <button class=" api-button-download api-button-code" onclick="readChecked()">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13.7523 2.16169C13.7777 2.0793 13.7865 1.99273 13.7784 1.90692C13.7703 1.8211 13.7453 1.73773 13.705 1.66156C13.6647 1.58538 13.6097 1.5179 13.5433 1.46297C13.4769 1.40803 13.4003 1.36671 13.3179 1.34137C13.2355 1.31604 13.1489 1.30718 13.0631 1.3153C12.9773 1.32342 12.8939 1.34836 12.8178 1.3887C12.7416 1.42904 12.6741 1.48399 12.6192 1.55041C12.5642 1.61683 12.5229 1.69342 12.4976 1.77581L7.24758 18.8383C7.19641 19.0047 7.21343 19.1846 7.2949 19.3384C7.37638 19.4923 7.51562 19.6075 7.68201 19.6586C7.84841 19.7098 8.02831 19.6928 8.18215 19.6113C8.33598 19.5298 8.45116 19.3906 8.50233 19.2242L13.7523 2.16169V2.16169ZM6.37083 5.44162C6.43194 5.50258 6.48043 5.575 6.51351 5.65473C6.5466 5.73446 6.56362 5.81993 6.56362 5.90625C6.56362 5.99257 6.5466 6.07804 6.51351 6.15777C6.48043 6.2375 6.43194 6.30992 6.37083 6.37088L2.24039 10.5L6.37083 14.6291C6.49405 14.7524 6.56328 14.9195 6.56328 15.0938C6.56328 15.268 6.49405 15.4351 6.37083 15.5584C6.2476 15.6816 6.08047 15.7508 5.9062 15.7508C5.73193 15.7508 5.5648 15.6816 5.44158 15.5584L0.847827 10.9646C0.786713 10.9037 0.738226 10.8312 0.705142 10.7515C0.672059 10.6718 0.655029 10.5863 0.655029 10.5C0.655029 10.4137 0.672059 10.3282 0.705142 10.2485C0.738226 10.1688 0.786713 10.0963 0.847827 10.0354L5.44158 5.44162C5.50254 5.38051 5.57496 5.33202 5.65468 5.29894C5.73441 5.26586 5.81988 5.24883 5.9062 5.24883C5.99252 5.24883 6.07799 5.26586 6.15772 5.29894C6.23745 5.33202 6.30987 5.38051 6.37083 5.44162V5.44162ZM14.6291 5.44162C14.568 5.50258 14.5195 5.575 14.4864 5.65473C14.4533 5.73446 14.4363 5.81993 14.4363 5.90625C14.4363 5.99257 14.4533 6.07804 14.4864 6.15777C14.5195 6.2375 14.568 6.30992 14.6291 6.37088L18.7595 10.5L14.6291 14.6291C14.5681 14.6901 14.5197 14.7626 14.4866 14.8423C14.4536 14.922 14.4366 15.0075 14.4366 15.0938C14.4366 15.18 14.4536 15.2655 14.4866 15.3452C14.5197 15.4249 14.5681 15.4974 14.6291 15.5584C14.6901 15.6194 14.7625 15.6678 14.8422 15.7008C14.922 15.7338 15.0074 15.7508 15.0937 15.7508C15.18 15.7508 15.2654 15.7338 15.3452 15.7008C15.4249 15.6678 15.4973 15.6194 15.5583 15.5584L20.1521 10.9646C20.2132 10.9037 20.2617 10.8312 20.2948 10.7515C20.3278 10.6718 20.3449 10.5863 20.3449 10.5C20.3449 10.4137 20.3278 10.3282 20.2948 10.2485C20.2617 10.1688 20.2132 10.0963 20.1521 10.0354L15.5583 5.44162C15.4974 5.38051 15.4249 5.33202 15.3452 5.29894C15.2655 5.26586 15.18 5.24883 15.0937 5.24883C15.0074 5.24883 14.9219 5.26586 14.8422 5.29894C14.7625 5.33202 14.69 5.38051 14.6291 5.44162V5.44162Z" fill="black" />
                </svg>

            </button>
        </div>
        <div class="api-navi-body">
            @{

                int i = 0;
                var methods =  Model.GetAllMethods();

                foreach (var method in methods)
                {
                    if (method.EndsWith("private"))
                    {
                        var tempMethodName = method.Substring(0, method.Length - 7);
                        <label class="api-navi-body-el-text">
                            <input class="api-input-methodname" type="checkbox" value="@tempMethodName" id="input-method-@i" alt="private">
                            @tempMethodName
                        </label>
                        i++;
                    }
                    else
                    {
                        <label class= "api-navi-body-el-text" >
                        <input class= "api-input-methodname" type = "checkbox" value = "@method" id = "input-method-@i" >
                                @method
                        </label>
                    }
                }

            }


            <div class="api-navi-body-el">
                <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.28126 10.5C3.28106 9.23276 3.61447 7.98778 4.24797 6.89024C4.88146 5.79269 5.79273 4.88125 6.89015 4.24754C7.98757 3.61383 9.23248 3.28018 10.4997 3.28013C11.767 3.28008 13.0119 3.61363 14.1094 4.24726C14.26 4.33291 14.4384 4.3555 14.6057 4.31009C14.7729 4.26469 14.9154 4.15498 15.0021 4.0049C15.0887 3.85483 15.1125 3.67657 15.0682 3.50903C15.0239 3.34149 14.9151 3.19828 14.7656 3.11063C13.1393 2.17165 11.2485 1.79554 9.3866 2.04063C7.52469 2.28573 5.79567 3.13833 4.4677 4.46621C3.13973 5.7941 2.28702 7.52306 2.0418 9.38495C1.79659 11.2468 2.17258 13.1376 3.11146 14.7641C4.05034 16.3905 5.49965 17.6617 7.23461 18.3805C8.96958 19.0993 10.8932 19.2256 12.7073 18.7397C14.5213 18.2538 16.1243 17.1829 17.2677 15.6932C18.4111 14.2034 19.031 12.378 19.0313 10.5C19.0313 10.326 18.9621 10.159 18.8391 10.036C18.716 9.9129 18.5491 9.84376 18.375 9.84376C18.201 9.84376 18.034 9.9129 17.911 10.036C17.7879 10.159 17.7188 10.326 17.7188 10.5C17.7188 12.4145 16.9582 14.2507 15.6044 15.6044C14.2507 16.9582 12.4145 17.7188 10.5 17.7188C8.58548 17.7188 6.74936 16.9582 5.39559 15.6044C4.04181 14.2507 3.28126 12.4145 3.28126 10.5Z" fill="#008E1F" />
                    <path d="M20.1521 4.4021C20.2131 4.34108 20.2615 4.26865 20.2945 4.18893C20.3276 4.10921 20.3446 4.02376 20.3446 3.93747C20.3446 3.85119 20.3276 3.76574 20.2945 3.68602C20.2615 3.6063 20.2131 3.53386 20.1521 3.47285C20.0911 3.41183 20.0186 3.36343 19.9389 3.33041C19.8592 3.29739 19.7738 3.2804 19.6875 3.2804C19.6012 3.2804 19.5157 3.29739 19.436 3.33041C19.3563 3.36343 19.2839 3.41183 19.2228 3.47285L10.5 12.197L7.0271 8.72285C6.96608 8.66183 6.89365 8.61343 6.81393 8.58041C6.73421 8.54739 6.64876 8.5304 6.56247 8.5304C6.47619 8.5304 6.39074 8.54739 6.31102 8.58041C6.2313 8.61343 6.15887 8.66183 6.09785 8.72285C6.03683 8.78386 5.98843 8.8563 5.95541 8.93602C5.92239 9.01574 5.9054 9.10119 5.9054 9.18747C5.9054 9.27376 5.92239 9.35921 5.95541 9.43893C5.98843 9.51865 6.03683 9.59108 6.09785 9.6521L10.0353 13.5896C10.0963 13.6507 10.1687 13.6992 10.2485 13.7323C10.3282 13.7654 10.4137 13.7824 10.5 13.7824C10.5863 13.7824 10.6718 13.7654 10.7515 13.7323C10.8312 13.6992 10.9036 13.6507 10.9646 13.5896L20.1521 4.4021V4.4021Z" fill="#008E1F" />
                </svg>
                <label class="api-navi-body-el-text">agreement.xsd</label>
            </div>
        </div>
    </div>

    <div class="uploading-api-files">
        <html name="api-files-carousel" lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="apple-mobile-web-app-title" content="CodePen">
            <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/flickity/1.0.0/flickity.css">
            <script>
                let listOfResponces = [];

                async function readChecked() {
                    document.getElementById('gallery-cell-api-0').innerText = 'Файл загружается, подождите ...';
                    var numberOfMethods = document.getElementsByClassName("api-input-methodname");
                    var numberOfVersion = document.getElementsByClassName("api-navi-check");
                    let i = 0;
                    do {
                        if (numberOfMethods[i].checked == true) {
                            for (let j = 0; j < numberOfVersion.length - 1; j++) {
                                if (numberOfVersion[j].checked == true) {
                                    if (numberOfMethods[i].alt == "private") {
                                        await fetchload(numberOfMethods[i].value.toString(), listOfResponces, j + 1, true);
                                    } else {
                                        await fetchload(numberOfMethods[i].value.toString(), listOfResponces, j + 1, false);
                                    }
                                }
                            }
                        }
                        i++;
                    } while (i < numberOfMethods.length);
                    if (listOfResponces.length > 10) {
                        console.log("вход в if...")
                        for (let i = 0; i < 10; i++) {
                            let j = listOfResponces.length - i - 1;
                            document.getElementById("gallery-cell-api-" + i).textContent = listOfResponces[j];
                        }
                    } else {
                        for (let i = 0; i < listOfResponces.length; i++) {
                            let j = listOfResponces.length - i - 1;
                            document.getElementById("gallery-cell-api-" + i).textContent = listOfResponces[j];
                        }
                    }
                }

                async function fetchload(methodname, listOfResponces, methodVersion, isPrivate) {
                    let request = {
                        "ApiName": methodname,
                        "ApiVersion": methodVersion,
                        "IsPrivate": isPrivate
                    };
                    let url = ('/uploading/getApi/?ApiName=' + request.ApiName + '&ApiVersion=' + request.ApiVersion + "&IsPrivate=" + request.IsPrivate);
                    console.log("Запуск фетч...");
                    let responce = await fetch(url);
                    let result = await responce.json();
                    console.log(result);

                    let answer = await result.apiXml
                    let xmlToSave = new XmlBeautify().beautify(answer, { indent: '\u00A0 \u00A0 \u00A0', useSelfClosingElement: true }).toString();
                    console.log("Получение ответа в json...");
                    console.log(answer);
                    console.log(xmlToSave);

                    listOfResponces.push(xmlToSave);
                    console.log(listOfResponces[0]);

                    if (responce.ok) {
                        console.log("Всё в ок.");
                    } else {
                        console.log("Что-то не так.");
                    }
                }
                if (document.location.search.match(/type=embed/gi)) {
                    window.parent.postMessage("resize", "*");
                }
                //function onVersionChange{
                //    if (document.getElementById("checkbox-load-version-1").Checked == true){

                //    }
                //}

                function visibilityAPIChange() {
                    let attributeAPI = document.getElementsByClassName("uploading-api-wrapper")[0].hasAttribute("hidden");
                    if (attributeAPI) {
                        document.getElementsByClassName("uploading-api-wrapper")[0].removeAttribute('hidden');
                        document.getElementsByClassName("uploading-smev-wrapper")[0].setAttribute('hidden', 'hidden');
                    }
                }

                function visibilitySmevChange() {
                    let attributeSmev = document.getElementsByClassName("uploading-smev-wrapper")[0].hasAttribute("hidden");
                    if (attributeSmev) {
                        document.getElementsByClassName("uploading-smev-wrapper")[0].removeAttribute('hidden');
                        document.getElementsByClassName("uploading-api-wrapper")[0].setAttribute('hidden', 'hidden');
                    }
                }
            </script>
        </head>

        <body translate="no">
            <div class="gallery js-flickity flickity-enabled is-draggable" data-flickity-options="{ &quot;wrapAround&quot;: true }" tabindex="0">
                @for (int j = 0; j < 10; j++)
                {
                    <div class="gallery-cell" style="font-size: 1em" id="gallery-cell-api-@j"></div>
                }
            </div>
            <script src="../js/flickity.js"></script>
            <script id="rendered-js"></script>
            <script src="/js/XmlBeautify.js"></script>
        </body>
    </html>

</div>
</div>

<div hidden class="uploading-smev-wrapper">
    <div class="uploading-smev-navi">
        <div class="grid-container">
            <div class="stands"><div class="smev-navi-title"><label class="navi-title-label">Стенды:</label></div></div>
            <div class="release"><label class="navi-stand-label">Release</label>
                <input id="release" class="navi-stand-check" type="checkbox"/>
            </div>
            <div class="bugfix"><label class="navi-stand-label">Bugfix</label>
                <input id="bugfix" class="navi-stand-check" type="checkbox"/>
            </div>
            <div class="reserve"><label class="navi-stand-label">Reserve</label>
                <input id="reserve" class="navi-stand-check" type="checkbox"/>
            </div>
            <div class="doc-ver"><label class="navi-block-label">Версия документа</label></div>
            <div class="doc-ver-list smev-button-download">
                <!--<input class="navi-block-brow" list="doc-ver-list">
                <datalist id="doc-ver-list">
                    <option value="1"></option>
                    <option value="2"></option>
                    <option value="3"></option>
                </datalist>-->
                <input class="ver-list-input ver-list-template"  value="1.13.0"/>
                <select id="doc-ver-list"><!--onchange="console.log(this.options[this.selectedIndex].value)"-->
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="doc-num"><label class="navi-block-label">Номер документа</label></div>
            <div class="doc-num-list smev-button-download">
                <input class="num-list-input ver-list-template" value="148"/><!--<input class="navi-block-brow" list="doc-num-list">-->
                <select id="doc-num-list" class="num-list-select">
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="doc-type"><label class="navi-block-label">Тип документа</label></div>
            <div class="doc-type-list smev-button-download">
                <input class="type-list-input ver-list-template" value="9"/><!--<input class="navi-block-brow" list="doc-type-list">-->
                <!--<script src="/js/documentTypeListFiller.js"></script>-->
                <body onload="
                    async function documentTypeListFiller() {
                    let documentTypeList = 
                    [
                    '«00» - Перечень документов',
                    '«6» -  Расчет базовых БА (базовых бюджетных ассигнований - подписываемая часть)',
                    '«7» -  Расчет базовых БА (базовых бюджетных ассигнований - не подписываемая часть)',                        
                    '«8» -  Расчет базовых БА с Доп. БА (подписываемая часть)',
                    '«9» -  Расчет базовых БА с Доп. БА (не подписываемая часть)',                      
                    '«10» - Паспорт проекта (подписываемая часть)',
                    '«11» - Паспорт проекта (не подписываемая часть)',
                    '«14» - Комплексный тип документа паспорт инфраструктурного проекта',
                    '«20» - Рабочий план',
                    '«21» - Запрос на изменение рабочего плана',
                    '«30» - Отчет о ходе реализации национального проекта',
                    '«31» - Отчет о ходе реализации федерального (регионального) проекта',
                    '«32» - Отчет о ходе реализации паспортов проектов и вопросов', 
                    '«33» - Исполнения НП,ФП,РП',
                    '«34» - Аналитический отчет',                        
                    '«40» - Запрос на изменение',
                    '«41» - Не примененный запрос на изменение',
                    '«42» - Запрос на изменение паспортов проектов и вопросов',                           
                    '«50» - Документ паспортов проектов и вопросов',
                    '«60» - Документ паспорт инвестиционного проекта',
                    '«70» - справочник «Типовые результаты и типовые КТ»',                        
                    '«110» - Перечень паспортов государственных программ',
                    '«120» - Паспорт государственной программы',
                    '«121» - Редакция паспорта государственной программы',
                    '«130» - Перечень паспортов ведомственных проектов',
                    '«140» - Паспорт ведомственного проекта',
                    '«141» - Редакция паспорта ведомственного проекта',
                    '«150» - Перечень паспортов комплексов процессных мероприятий',
                    '«160» - Паспорт комплекса процессных мероприятий',
                    '«161» - Редакция паспорта комплекса процессных мероприятий',
                    '«170» - Маркировка элементов государственной программы',
                    '«180» - Маркировка элементов ведомственного проекта',
                    '«190» - Маркировка элементов комплекса процессных мероприятий',
                    '«200» - Единый запрос на изменение',
                    '«201» - Предложение на изменение ГП',
                    '«202» - Предложение на изменение ВП',
                    '«203» - Предложение на изменение КПМ',
                    '«205» - Дополнение к Единому запросу на изменение',
                    '«210» - Перечень отчетов о ходе реализации ведомственного проекта',
                    '«220» - Отчет о ходе реализации ведомственного проекта',
                    '«221» - Сведения об исполнение ведомственного проекта',
                    '«230» - Перечень отчетов о ходе реализации государственной программы',
                    '«240» - Отчет о ходе реализации ГП',
                    '«241» - Сведения об исполнении государственной программы',
                    '«250» - Перечень отчетов о ходе реализации комплекса процессных мероприятий',
                    '«260» - Отчет о ходе реализации КПМ',
                    '«261» - Сведения об исполнение комплекса процессных мероприятий',
                    '«270» - Единый аналитический план'
                    ];
                    for (let i = 0; i < documentTypeList.length; i++) {
                       let s = documentTypeList[i];
                       let res = s.split('«')[1];
                       let resp = res.split('»')[0];
                       await document.getElementById('doc-type-list').insertAdjacentHTML('beforeend', '<option value=&quot;' + resp + '&quot;>' + documentTypeList[i] + '</option>');
                    };
                    };
                    documentTypeListFiller();
                "></body>
                <select id="doc-type-list" onchange="document.getElementsByClassName('type-list-input')[0].value = this.options[this.selectedIndex].value"></select>
            </div>
            <div class="type"><label class="navi-block-label">Тип(Type)</label></div>
            <div class="type-list smev-button-download">
                <input class="typetype-list-input ver-list-template" value="1"/><!--<input class="navi-block-brow" list="type-list">-->
                <select id="type-list">
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="subj-code"><label class="navi-block-label">Код субъекта</label></div>
            <div class="subj-code-list smev-button-download">
                <input class="subj-code-input ver-list-template" value="2"/><!--<input class="navi-block-brow" list="subj-code-list">-->
                <select id="subj-code-list">
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="time"><label class="navi-block-label">Время</label></div>
            <div class="time-list smev-button-download">
                <input class="time-list-input ver-list-template" value="3"/><!--<input class="navi-block-brow" list="time-list">-->
                <select id="time-list">
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="base64-format"><label class="navi-block-label">Base64 формат</label></div>
            <div class="base64-format-list smev-button-download">
                <input class="base64-format-input ver-list-template" value="4"/><!--<input class="navi-block-brow" list="base64-format-list">-->
                <select id="base64-format-list">
                    <option value="1">raz</option>
                    <option value="2">dva</option>
                    <option value="3">tri</option>
                </select>
            </div>
            <div class="cell-smev-button-download">
                <a download='xml.xml' id='linkForSavingFile' hidden></a>
                <button class="smev-button-download" onclick="
                    async function fetch_ajax_download(){
                        document.getElementById('gallery-cell-0').innerText = 'Файл загружается, подождите ...';
                        let uri = 'https://localhost:7067/uploading/getsmevtext?';
                        let versionDocument = document.getElementsByClassName('ver-list-input')[0].value;
                        let numberDocument = document.getElementsByClassName('num-list-input')[0].value;
                        let typeDocument = document.getElementsByClassName('type-list-input')[0].value;
                        
                        await fetch(uri + 'VersionDocument=' + versionDocument + '&NumberDocument=' + numberDocument + '&TypeDocument=' + typeDocument)
                          .then((response) => response.json())
                          .then((data) => {
                              let xmlToSave = new XmlBeautify().beautify(data.xml, {indent: '&nbsp; &nbsp; &nbsp;', useSelfClosingElement: true}).toString();
                                  async function saveXml(){
                                    let a = await document.getElementById('linkForSavingFile');
                                      let file = await new Blob([xmlToSave], {
                                        type: 'plain/text'
                                      });
                                    let href = window.URL.createObjectURL(file);
                                    document.getElementById('linkForSavingFile').setAttribute('href', href);
                                    await a.click();
                                  }; 
                                  saveXml();
                          });
                         document.getElementById('gallery-cell-0').innerText = 'Файл загружен.';
                    }
                    fetch_ajax_download();">
                    Скачать
                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.5 2.625C8.76782 2.63043 7.09469 3.25518 5.78288 4.38638C4.7775 5.25263 4.04906 6.38137 3.86137 7.51406C1.66162 7.99969 0 9.91594 0 12.2299C0 14.9179 2.24175 17.0625 4.96256 17.0625H16.6517C19.0339 17.0625 21 15.1856 21 12.8271C21 10.6798 19.3699 8.93025 17.2804 8.63494C16.9614 5.24869 14.0306 2.625 10.5 2.625ZM13.5896 11.6209L10.9646 14.2459C10.9037 14.307 10.8312 14.3555 10.7515 14.3886C10.6718 14.4216 10.5863 14.4387 10.5 14.4387C10.4137 14.4387 10.3282 14.4216 10.2485 14.3886C10.1688 14.3555 10.0963 14.307 10.0354 14.2459L7.41037 11.6209C7.34936 11.5599 7.30096 11.4874 7.26794 11.4077C7.23492 11.328 7.21792 11.2425 7.21792 11.1562C7.21792 11.07 7.23492 10.9845 7.26794 10.9048C7.30096 10.8251 7.34936 10.7526 7.41037 10.6916C7.5336 10.5684 7.70073 10.4992 7.875 10.4992C7.96129 10.4992 8.04673 10.5162 8.12645 10.5492C8.20617 10.5822 8.27861 10.6306 8.33963 10.6916L9.84375 12.1971V7.21875C9.84375 7.0447 9.91289 6.87778 10.036 6.75471C10.159 6.63164 10.326 6.5625 10.5 6.5625C10.674 6.5625 10.841 6.63164 10.964 6.75471C11.0871 6.87778 11.1562 7.0447 11.1562 7.21875V12.1971L12.6604 10.6916C12.7836 10.5684 12.9507 10.4992 13.125 10.4992C13.2993 10.4992 13.4664 10.5684 13.5896 10.6916C13.7129 10.8149 13.7821 10.982 13.7821 11.1562C13.7821 11.3305 13.7129 11.4976 13.5896 11.6209V11.6209Z" fill="black"/>
                    </svg>
                </button>
            </div>
            <div class="cell-smev-button-code">
                <script src="/js/uploading.js"></script>
                <script src="/js/XmlBeautify.js"></script>
                <button class="smev-button-download" onclick="
                    async function fetch_ajax(){
                        for (let icell = 9; icell >= 1; icell--) {
                            icell = await icell;
                            icellsmall = await (icell - 1);
                            document.getElementById('gallery-cell-' + icell.toString()).textContent = await document.getElementById('gallery-cell-' + icellsmall.toString()).textContent;
                        };
                        document.getElementById('gallery-cell-0').innerText = await 'Документ загружается, подождите ...';
                        let uri = 'https://localhost:7067/uploading/getsmevtext?';
                        let versionDocument = document.getElementsByClassName('ver-list-input')[0].value;
                        let numberDocument = document.getElementsByClassName('num-list-input')[0].value;
                        let typeDocument = document.getElementsByClassName('type-list-input')[0].value;
                        let subjCodeInput = document.getElementsByClassName('subj-code-input')[0].value;
                        let typetypeListInput = document.getElementsByClassName('typetype-list-input')[0].value;
                        let timeListInput = document.getElementsByClassName('time-list-input')[0].value;
                        let base64FormatInput = document.getElementsByClassName('base64-format-input')[0].value;
                        
                        //let stand = document.getElementsByClassName('type-list-input')[0].value;
                        let stand = [3];
                        if (document.getElementById('release').checked){
                            await stand.push('0');
                        }
                        if (document.getElementById('bugfix').checked){
                            await stand.push('1');
                        }
                        if (document.getElementById('reserve').checked){
                            await stand.push('2');
                        }
                        console.log(await stand);
                        
                        await fetch(uri + 'VersionDocument=' + versionDocument + '&NumberDocument=' + numberDocument + '&TypeDocument=' + typeDocument + '&CodeSubject=' + subjCodeInput + '&TypeType=' + typetypeListInput + '&Time=' + timeListInput + '&Base64Format=' + base64FormatInput + '&Stand=' + stand.toString())
                            .then((response) => response.json())
                            .then((data) => 
                            {
                                document.getElementById('gallery-cell-0').innerText = data.xml; 
                                console.log(data.codeSubject);
                                console.log(data.typeType);
                                console.log(data.time);
                                console.log(data.base64Format);
                                console.log(data.stand);
                            }
                            );
                        
                        for (let icell = 0; icell <= 9; icell++) {
                            let meat = await document.getElementById('gallery-cell-' + icell.toString()).textContent;
                            let source = await new XmlBeautify().beautify(meat, {indent: '&nbsp; &nbsp; &nbsp;', useSelfClosingElement: true}).toString();
                            parser = await new DOMParser();
                            xmlDoc = await parser.parseFromString(await source,'text/xml');
                            try { document.getElementById('gallery-cell-' + icell.toString()).innerText = await xmlDoc.getElementsByTagName('div')[0].textContent; }
                            catch{ document.getElementById('gallery-cell-' + icell.toString()).innerText = await source; }
                        };
                    };
                    fetch_ajax();"><!-- uploading(); -->
                    Показать
                    <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.7523 2.16169C13.7777 2.0793 13.7865 1.99273 13.7784 1.90692C13.7703 1.8211 13.7453 1.73773 13.705 1.66156C13.6647 1.58538 13.6097 1.5179 13.5433 1.46297C13.4769 1.40803 13.4003 1.36671 13.3179 1.34137C13.2355 1.31604 13.1489 1.30718 13.0631 1.3153C12.9773 1.32342 12.8939 1.34836 12.8178 1.3887C12.7416 1.42904 12.6741 1.48399 12.6192 1.55041C12.5642 1.61683 12.5229 1.69342 12.4976 1.77581L7.24758 18.8383C7.19641 19.0047 7.21343 19.1846 7.2949 19.3384C7.37638 19.4923 7.51562 19.6075 7.68201 19.6586C7.84841 19.7098 8.02831 19.6928 8.18215 19.6113C8.33598 19.5298 8.45116 19.3906 8.50233 19.2242L13.7523 2.16169V2.16169ZM6.37083 5.44162C6.43194 5.50258 6.48043 5.575 6.51351 5.65473C6.5466 5.73446 6.56362 5.81993 6.56362 5.90625C6.56362 5.99257 6.5466 6.07804 6.51351 6.15777C6.48043 6.2375 6.43194 6.30992 6.37083 6.37088L2.24039 10.5L6.37083 14.6291C6.49405 14.7524 6.56328 14.9195 6.56328 15.0938C6.56328 15.268 6.49405 15.4351 6.37083 15.5584C6.2476 15.6816 6.08047 15.7508 5.9062 15.7508C5.73193 15.7508 5.5648 15.6816 5.44158 15.5584L0.847827 10.9646C0.786713 10.9037 0.738226 10.8312 0.705142 10.7515C0.672059 10.6718 0.655029 10.5863 0.655029 10.5C0.655029 10.4137 0.672059 10.3282 0.705142 10.2485C0.738226 10.1688 0.786713 10.0963 0.847827 10.0354L5.44158 5.44162C5.50254 5.38051 5.57496 5.33202 5.65468 5.29894C5.73441 5.26586 5.81988 5.24883 5.9062 5.24883C5.99252 5.24883 6.07799 5.26586 6.15772 5.29894C6.23745 5.33202 6.30987 5.38051 6.37083 5.44162V5.44162ZM14.6291 5.44162C14.568 5.50258 14.5195 5.575 14.4864 5.65473C14.4533 5.73446 14.4363 5.81993 14.4363 5.90625C14.4363 5.99257 14.4533 6.07804 14.4864 6.15777C14.5195 6.2375 14.568 6.30992 14.6291 6.37088L18.7595 10.5L14.6291 14.6291C14.5681 14.6901 14.5197 14.7626 14.4866 14.8423C14.4536 14.922 14.4366 15.0075 14.4366 15.0938C14.4366 15.18 14.4536 15.2655 14.4866 15.3452C14.5197 15.4249 14.5681 15.4974 14.6291 15.5584C14.6901 15.6194 14.7625 15.6678 14.8422 15.7008C14.922 15.7338 15.0074 15.7508 15.0937 15.7508C15.18 15.7508 15.2654 15.7338 15.3452 15.7008C15.4249 15.6678 15.4973 15.6194 15.5583 15.5584L20.1521 10.9646C20.2132 10.9037 20.2617 10.8312 20.2948 10.7515C20.3278 10.6718 20.3449 10.5863 20.3449 10.5C20.3449 10.4137 20.3278 10.3282 20.2948 10.2485C20.2617 10.1688 20.2132 10.0963 20.1521 10.0354L15.5583 5.44162C15.4974 5.38051 15.4249 5.33202 15.3452 5.29894C15.2655 5.26586 15.18 5.24883 15.0937 5.24883C15.0074 5.24883 14.9219 5.26586 14.8422 5.29894C14.7625 5.33202 14.69 5.38051 14.6291 5.44162V5.44162Z" fill="black"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="smev-wrapper-right">
    <div class="uploading-smev-files">
        <html name="smev-files-carousel" lang="en">
        <head><title></title>
            <meta charset="UTF-8">
            <meta name="apple-mobile-web-app-title" content="CodePen">
            <meta name="viewport" content="width=device-width">
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/flickity/1.0.0/flickity.css">
            <script> if (document.location.search.match(/type=embed/gi)) { window.parent.postMessage("resize", "*");} </script>
        </head>
        <body translate="no">
        <div class="gallery js-flickity flickity-enabled is-draggable smev-gallery" data-flickity-options="{ &quot;wrapAround&quot;: true }" tabindex="0">
            <div id="gallery-cell-0" class="gallery-cell smev-counter">0</div><!-- F12 F12 -->
            <div id="gallery-cell-1" class="gallery-cell smev-counter">1</div>
            <div id="gallery-cell-2" class="gallery-cell smev-counter">2</div>
            <div id="gallery-cell-3" class="gallery-cell smev-counter">3</div>
            <div id="gallery-cell-4" class="gallery-cell smev-counter">4</div>
            <div id="gallery-cell-5" class="gallery-cell smev-counter">5</div>
            <div id="gallery-cell-6" class="gallery-cell smev-counter">6</div>
            <div id="gallery-cell-7" class="gallery-cell smev-counter">7</div>
            <div id="gallery-cell-8" class="gallery-cell smev-counter">8</div>
            <div id="gallery-cell-9" class="gallery-cell smev-counter">9</div>
        </div>
        <script id="rendered-js-twinhead"></script>
        </body>
        </html><div></div>
        <div>
            <button class="smev-button-download smev-files-button files-button-archive">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">
                  <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                </svg>
            </button>
        </div>
        <button class="smev-button-download smev-files-button files-button-download">
            <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.5 2.625C8.76782 2.63043 7.09469 3.25518 5.78288 4.38638C4.7775 5.25263 4.04906 6.38137 3.86137 7.51406C1.66162 7.99969 0 9.91594 0 12.2299C0 14.9179 2.24175 17.0625 4.96256 17.0625H16.6517C19.0339 17.0625 21 15.1856 21 12.8271C21 10.6798 19.3699 8.93025 17.2804 8.63494C16.9614 5.24869 14.0306 2.625 10.5 2.625ZM13.5896 11.6209L10.9646 14.2459C10.9037 14.307 10.8312 14.3555 10.7515 14.3886C10.6718 14.4216 10.5863 14.4387 10.5 14.4387C10.4137 14.4387 10.3282 14.4216 10.2485 14.3886C10.1688 14.3555 10.0963 14.307 10.0354 14.2459L7.41037 11.6209C7.34936 11.5599 7.30096 11.4874 7.26794 11.4077C7.23492 11.328 7.21792 11.2425 7.21792 11.1562C7.21792 11.07 7.23492 10.9845 7.26794 10.9048C7.30096 10.8251 7.34936 10.7526 7.41037 10.6916C7.5336 10.5684 7.70073 10.4992 7.875 10.4992C7.96129 10.4992 8.04673 10.5162 8.12645 10.5492C8.20617 10.5822 8.27861 10.6306 8.33963 10.6916L9.84375 12.1971V7.21875C9.84375 7.0447 9.91289 6.87778 10.036 6.75471C10.159 6.63164 10.326 6.5625 10.5 6.5625C10.674 6.5625 10.841 6.63164 10.964 6.75471C11.0871 6.87778 11.1562 7.0447 11.1562 7.21875V12.1971L12.6604 10.6916C12.7836 10.5684 12.9507 10.4992 13.125 10.4992C13.2993 10.4992 13.4664 10.5684 13.5896 10.6916C13.7129 10.8149 13.7821 10.982 13.7821 11.1562C13.7821 11.3305 13.7129 11.4976 13.5896 11.6209V11.6209Z" fill="black"/>
            </svg>
        </button>
    </div>
    </div>
</div>